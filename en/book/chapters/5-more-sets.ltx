\ch{More stuff about sets}\label{ch:more-sets}

By now, you hopefully have some idea into the basic intuition behind sets and
functions. Moreover, you've proven some cool stuff about them -- for instance,
you proved that a function is invertible iff it is bijective.

That's kind of cool, right? It's much easier to verify that a function is
bijective than it is to find its inverse. So, right off the bat, you can see if
a function is invertible without trying to invert it. Despite what you may
think, a common problem in math is to find inverse functions.

Speaking of functions, I'm going to define a really simple function:

\begin{alignedmath}
  \id : a \to a \\
  \evalat{\id}{x} = x
\end{alignedmath}

That function is about as simple as functions get. It's not a very interesting
function, but it's handy when defining things.

This is a slightly less simple function, but nonetheless important

\begin{alignedmath}
  \flip : \parens{a \to b \to c} \to b \to a \to c \\
  \eva{\flip}{f, x, y} = \eva{f}{y,x}
\end{alignedmath}

It takes a function, $f$, which takes an $a$ and a $b$, and then returns another
function with the arguments flipped. You won't usually see
$\eva{\flip}{\ld{x, y} x-y, 3, 5}$ floating around. Instead

\begin{alignmath}{rcl}
  f & : & p \to q \to r \\
  \eva{\flip}{f} & : & q \to p \to r \\
\end{alignmath}

Here's an infix operator:

\begin{alignedmath}
  \circ : \parens{b \to c} \to \parens{a \to b} \to a \to c \\
  \eva{\parens{f \circ g}}{x} = \eva{f}{\eva{g}{x}}
\end{alignedmath}

We're going to look at some more stuff with sets.

\s{Set subtraction}

First off, we have ``set subtraction''. This is sometimes called the ``relative
complement''.

\[ P \setminus Q = \mset{x \in P \semic x \notin Q} \]

$P \bs Q$ is all of the elements in $P$ that are not in $Q$.

\begin{figure}[ht]
  \centering
  \inclgraph{setminus.png}
  \caption{Set subtraction}
  \label{fig:setminus}
\end{figure}

What would $P \bs P$ be, then? Well, $\nil$, of course, right! 

\[ P \setminus P = \mset{x \in P \semic x \notin P} = \nil \]

Well, that looks like a contradiction, doesn't it? Well, sort of. It's a
contradiction if you assume that $P$ is nonempty --- if you assume that there is
some element in $P$ --- if an element is both in $P$ and not in $P$, that would
be madness! But, if you realize that the comprehension is the ``set of objects
satisfying the condition'', then you don't encounter a contradiction.
$P \setminus P$ is the set of all objects in $P$ that are not in $P$: there are
no elements satisfying this condition, thus $P \bs P \equiv \nil$.

\Cref{fig:setminus} explains this idea graphically.

\ss{Complement}

If $P \subof \amb$, then $\amb \setminus P$ is called the ``\term{complement} of
$P$ with respect to $\amb$''. Yes, that's compl\xti{e}ment with an 'e', not
compl\xti{i}ment, with an 'i'. 

I drew another diagram to illustrate the complement in \cref{fig:complement}.

\begin{figure}[ht]
  \centering
  \inclgraph{venn-complement-2.png}
  \caption{The complement, illustrated graphically. I tried to draw an $\amb$ in
    the upper right corner. It turned out terribly.}
  \label{fig:complement}
\end{figure}


\begin{ExcList}
  \Exercise{
    $\compl{\compl{P}} \Qequiv P$
  }
  \Answer{Yes.

    \begin{rclmath}
      \compl{P}         & \equiv & \mset{x \in \amb \semic x \notin P} \\
                        & \equiv & \mset{x \in \amb \semic \lnot\parens{x \in P}} \\
      \compl{\compl{P}} & \equiv & \mset{x \in \amb \semic \lnot\lnot\parens{x \in P}} \\
                        & \equiv & \mset{x \in \amb \semic x \in P} \\
                        & \equiv & P \\
    \end{rclmath}

    I drew a picture to help.

    \begin{center}
      \inclgraph{PAc1.png}
      % \caption{A subset of an ambient set, such that $P \subeq \amb$. The
      %   complement of $P$ would be everything outside the circle. The second
      %   complement would be everything inside the circle, hence $P$.}
      \label{fig:pac1}
    \end{center}

    $P^c$ would be everything outside the circle. ${P^c}^c$ would be everything
    not outside the circle. So, inside the circle, and thus
    $\compl{\compl{P}} \equiv P$. }

  \Exercise{
    $C \bs \parens{A \cup B} \Qequiv \parens{C \bs A} \cap \parens{C \bs B}$
  }

\end{ExcList}

% \s{Various sets}

% $\N$, $\Z$, $\Q$, and $\R$.

% $\Set$ is a commutative monoid
% $\Z$ is a ring
% $\R$ is a field, 
% et cetera

% \s{A brief history of set theory}

% $\aleph_0$, cardinalities, ordinal numbers, continuum hypothesis

% ZFC set theory

% Axiom of choice, why its so controversial

