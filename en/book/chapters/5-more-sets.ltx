\ch{More stuff about sets}\label{ch:more-sets}

By now, you hopefully have some idea into the basic intuition behind sets and
functions. Moreover, you've proven some cool stuff about them -- for instance,
you proved that a function is invertible iff it is bijective.

That's kind of cool, right? It's much easier to verify that a function is
bijective than it is to find its inverse. So, right off the bat, you can see if
a function is invertible without trying to invert it. Despite what you may
think, a common problem in math is to find inverse functions.

Speaking of functions, I'm going to define a really simple function:

\begin{alignedmath}
  \id : a \to a \\
  \evalat{\id}{x} = x
\end{alignedmath}

That function is about as simple as functions get. It's not a very interesting
function, but it's handy when defining things.

This is a slightly less simple function, but nonetheless important

\begin{alignedmath}
  \flip : \parens{a \to b \to c} \to b \to a \to c \\
  \eva{\flip}{f, x, y} = \eva{f}{y,x}
\end{alignedmath}

It takes a function, $f$, which takes an $a$ and a $b$, and then returns another
function with the arguments flipped. You won't usually see
$\eva{\flip}{\ld{x, y} x-y, 3, 5}$ floating around. Instead

\begin{alignmath}{rcl}
  f & : & p \to q \to r \\
  \eva{\flip}{f} & : & q \to p \to r \\
\end{alignmath}

Here's an infix operator:

\begin{alignedmath}
  \circ : \parens{b \to c} \to \parens{a \to b} \to a \to c \\
  \eva{\parens{f \circ g}}{x} = \eva{f}{\eva{g}{x}}
\end{alignedmath}

We're going to look at some more stuff with sets.

\s{Set subtraction}

First off, we have ``set subtraction''. This is sometimes called the ``relative
complement''.

\[ P \setminus Q = \mset{x \in P \semic x \notin Q} \]

$P \bs Q$ is all of the elements in $P$ that are not in $Q$.

\begin{figure}[ht]
  \centering
  \inclgraph{setminus.png}
  \caption{Set subtraction}
  \label{fig:setminus}
\end{figure}

What would $P \bs P$ be, then? Well, $\nil$, of course, right! 

\[ P \setminus P = \mset{x \in P \semic x \notin P} = \nil \]

Well, that looks like a contradiction, doesn't it? Well, sort of. It's a
contradiction if you assume that $P$ is nonempty --- if you assume that there is
some element in $P$ --- if an element is both in $P$ and not in $P$, that would
be madness! But, if you realize that the comprehension is the ``set of objects
satisfying the condition'', then you don't encounter a contradiction.
$P \setminus P$ is the set of all objects in $P$ that are not in $P$: there are
no elements satisfying this condition, thus $P \bs P \equiv \nil$.

\Cref{fig:setminus} explains this idea graphically.

\ss{Complement}

If $P \subof \amb$, then $\amb \setminus P$ is called the ``\term{complement} of
$P$ with respect to $\amb$''. Yes, that's compl\xti{e}ment with an 'e', not
compl\xti{i}ment, with an 'i'. 

I drew another diagram to illustrate the complement in \cref{fig:complement}.

\begin{figure}[ht]
  \centering
  \inclgraph{venn-complement-2.png}
  \caption{The complement, illustrated graphically. I tried to draw an $\amb$ in
    the upper right corner. It turned out terribly.}
  \label{fig:complement}
\end{figure}

In these exercises, you are going to prove every identity there is about sets.

\begin{ExcList}
  \Exercise{$A \bs \parens{B \cap C} \equiv \parens{A \bs B} \union \parens{A \bs C}$}
  \Exercise {$A \bs \parens{B \union C} \equiv \parens{A \bs B} \intersect \parens{A \bs C}$}
  \Exercise {$A \bs \parens{B \bs C} \equiv \parens{A \bs B} \union \parens{A \intersect C}$}
  \Exercise {$\parens{A \bs B} \intersect C \equiv \parens{A \cap C} \bs B \equiv A \intersect \parens{C \bs B}$}
  \Exercise {$\parens{A \bs B} \union C \equiv \parens{A \union C} \bs \parens{B \bs C}$}
  \Exercise {$A \bs A \equiv \nil$}
  \Exercise {$A \bs \nil \equiv A$}
  \Exercise {$\nil \bs A \equiv \nil$}
  \Exercise {$A \cap \parens{B \cup C} \equiv \parens{A \cap B} \cup \parens{A \cap C}$}
  \Exercise {$A \cup \parens{B \cap C} \equiv \parens{A \cup B} \cap \parens{A \cup C}$}
  \Exercise {$\parens{A^c}^c \equiv A$}
  \Exercise{\nm{\parens{A \cap B}^c \equiv A^c \cup B^c}} 
  \Exercise{\nm{\parens{A \union B}^c \equiv A^c \cap B^c}}
\end{ExcList}

So, I'm actually not going to post solutions here. They can all be found in
\cref{d-sets}. This wastes less hard disk space. Also, if I find a mistake, I
only have to fix it once.

\s{Cartesian products}

This is actually a pretty simple thing:

\begin{alignedmath}
  \times : \Setof{a} \to \Setof{b} \to \Classof{a,b} \\
  A \times B = \mset{\mvec{x,y} \st x \in A \land y \in B} \\
\end{alignedmath}

It's the \sout{set} class of all pairs of the elements in either set.

\xtb{When are you going to tell me what a class is?}

We'll get there later in the chapter, don't worry.

\s{Numeric sets}

There are a number of sets with which we commonly deal. The first of them is the
``natural numbers'', or $\N$. $\N \ce \mset{0,1,2,3,4,5,\dots}$. Some people will
say that $\N \ce \mset{1,2,3,4,5,\dots}$. It doesn't matter a whole lot.

The best way to explain the natural numbers --- more importantly, to reason
about them --- is to do so rigorously. These are called the \term{Peano
  axioms}. They rigorously define $\N$.\cite{landau-analysis}

\begin{enumerate}
\item $0 \in \N$
\item $\suc : \N \to \N$. \nm\suc\ is the ``successor function''. It just bumps
  every number up by $1$. $\succ{0} = 1$, etc.
\item \nm\suc\ is injective.
\item $\forall x \in \N, \succ{x} \ne 0$
\item Let $\psi$ be a function
  \begin{alignedmath}
    \psi : \N \to \bool \\
    \eva{\psi}{0} = \true \\
  \end{alignedmath}

  If $\eva{\psi}{n} = \true \implies \eva{\psi}{\succ{n}} = \true$, then $\eva{\psi}{n}$
  holds true for all $n \in \N$.
\end{enumerate}

I'm not going to make you do it, because it's really boring. But we can define
everything about $\N$ from these axioms. For instance, you can define addition
this way:

\begin{alignedmath}
  + : \N \to \N \to \N \\
  a + 0 \ce a \\
  \succ{a + b} \ce a + \succ{b} \\
\end{alignedmath}

The next set is $\Z$, which is the integers.

\begin{displaymath}
  \Z \ce \mset{\dots,\ng{5},\ng{4},\ng{3},\ng{2},\ng{1},0,1,2,3,4,5,\dots}
\end{displaymath}

I think I've said this before: most people use $-5$ to say ``negative 5''. I
don't like this, because $-$ is also used for subtraction. Given that I use
$\beta$ and $\eta$ reduction quite a bit, this will get really confusing. So, in
this book, \nm{\ng{x}} refers to negative $x$.

The next set is $\R$, which is the ``real numbers''. If you write down a digit,
say $8$, write down a bunch of digits next to it, and maybe stick a decimal
point in there, it's guaranteed to be a real number.

\[ 8.28302382881883842048276545678943223689076 \in \R \]

These can even go on infinitely:

\begin{alignedmath}
  \frac{1}{3} \ce 0.33333\dots \\
  e \ce 2.71828182845905\dots \\
\end{alignedmath}

The next set is $\Q$, which is the ``rational numbers'': numbers which can be
expressed as a ratio.

\begin{displaymath}
  \Q \ce \mset{\frac{x}{y} \in \R \st x, y \in \Z \land y \ne 0 }
\end{displaymath}

All real numbers that follow a pattern, or terminate at some point are rational
numbers. So $\frac{1}{3}$ is a rational number, because it is a ratio. Also,
$0.333333\dots$ follows a pretty recognizable pattern.

$e$ on the other hand is \term{irrational}: it doesn't follow any pattern nor
does it terminate. $\pi$ is much more widely known than $e$, and is also
irrational.\footnote{If you don't know why $\pi$ is significant, it's the ratio
  of the circumference of a circle (the distance around it) to its diameter (the
  distance across the circle).}

Irrational numbers are the non-rational numbers:

\begin{displaymath}
  \I \ce \R \bs \Q
\end{displaymath}

The next set is the ``complex numbers'':

\begin{displaymath}
  \C \ce \R \times \R
\end{displaymath}

$\C$ is the Cartesian product of \nm\R\ with itself. The rules for addition,
division, and multiplication are a bit different. We'll get there later.


\s{Cardinalities}

This is the fun part of math.

This all starts with Galileo's paradox. If you pair every natural number up with
its square:

\begin{alignmath}{ccccccc}
  1 & 2 & 3 & 4 & \dots & n & \dots \\
  \updownarrow & \updownarrow & \updownarrow & \updownarrow & \updownarrow & \updownarrow & \updownarrow \\
  1 & 4 & 9 & 16 & \dots & n^2 & \dots \\
\end{alignmath}

you will come to the seemingly unreasonable conclusion that there are as many
perfect squares as there are natural numbers. This is odd, because the perfect
squares are a strict subset of the natural numbers. How can a strict subset of a
set have as many elements as the original set? It defies all intuition.

Galileo decided that the terms ``larger'' and ``smaller'' had no place when
discussing infinite sets.\cite{expeditions} Instead, if there is a bijection
between two sets, as we saw with the perfect squares, then we say that the sets
have the same \term{cardinality}, or size.

I'm going to use the symbol \nm\ae\ to mean ``cardinally equal to'': it means
two things have the same cardinality.

\begin{rclmath}
  \nil & \ae & \nil \\
  \mset{1,2,3} & \ae & \mset{3,4,5} \\
\end{rclmath}

$\N$ is infinite. Cantor called $\N$'s cardinality $\alnull$. $\aleph$ is the
Hebrew letter ``aleph''.\footnote{Some old math textbooks accidentally printed
  the \rotatebox[origin=c]{180}{$\aleph$} upside-down.\cite{w-aleph-null} What a
  bunch of idiots.} $\alnull$ should be read ``aleph null''.

By the above definition, any set with a bijective relation to $\N$ has the
cardinality $\alnull$.

\ss{Piecewise functions}

As a random aside, I'm going to introduce you to the \term{piecewise
  function}. It's a function whose definition changes based on the input.

\begin{rclmath}
  q & : & \N \to \Z \\
  \eva{q}{x} & \ce &
    \left\{
      \begin{array}{rcc}
        \text{$x$ is even} & \to & \frac{x}{2} \\
        \text{$x$ is odd} & \to & \ngp{\frac{x+1}{2}} \\
      \end{array}
    \right.
\end{rclmath}

Let's look at $\eva{q}{0}$: $0$ is even, so $\eva{q}{0} = \frac{0}{2} = 0$.

Let's make a table:

\begin{displaymath}
  \begin{tabu}{|c|c|c|} \hline
    x & \eva{q}{x} & \text{$\eva{q}{x}$ reduced}  \\ \hline
    0 & \fracil{0}{2}     & 0 \\
    1 & \ngfracilpf{1+1}{2} & \ng 1 \\
    2 & \fracil{2}{2}     & 1 \\
    3 & \ngfracilpf{3+1}{2} & \ng 2 \\
    4 & \fracil{4}{2}     & 2 \\
    5 & \ngfracilpf{5+1}{2} & \ng 3 \\
    6 & \fracil{6}{2}     & 3 \\
    7 & \ngfracilpf{7+1}{2} & \ng 4 \\
    8 & \fracil{8}{2}     & 4 \\
    \hline
  \end{tabu}
\end{displaymath}

\xtb{Woah woah woah! Hold the phone!}

It looks like we just found a bijection from $\N$ to $\Z$! What the hell is
going on?! $\N \subof \Z$, so it can't have the same number of elements, it has
to have fewer\ldots oh wait no it doesn't. Remember $n$ and $n^2$? So, we've
just found a bijection from $\N$ to $\Z$, so therefore $\N$ and $\Z$ have the
same cardinality: $\aleph_0$. That's kind of cool.

\[ \N \ae \Z\]

\ss{Vector-valued functions and derivatives}

Next thing we are going to look at is a \term{vector-valued function}. The name
pretty much says it all. It's a function that takes some input, and spits out a
vector as an output.

\begin{alignedmath}
  f : \N \to \mvec{\N,\N} \\
  \eva{f}{x} \ce \mvec{x,x} \\
\end{alignedmath}

That's a pretty simple vector-valued function. It could spit out a 3-vector:

\begin{alignedmath}
  f : \N \to \mvec{\N,\N,\N} \\
  \eva{f}{x} \ce \mvec{x,x,x} \\
\end{alignedmath}

Or take two inputs:

\begin{alignedmath}
  f : \N \to \N \to \mvec{\N,\N,\N} \\
  \eva{f}{x,y} \ce \mvec{x,y,x+y} \\
\end{alignedmath}

Alright, let's try something. We're going to ``plot'' some vectors. See
\cref{fig:ccp}. The graph in question represents $\Z \times \Z$. If you don't
remember, $\Z \times \Z$ is the Cartesian product of $\Z$ with itself. It's the
set of all 2-vectors where both entries in the vector are in $\Z$.
$\Z \times \Z \ce \mset{\mvec{x,y} \st x,y \in \Z}$. It's sometimes the
convention, when given a set $S$, to say $S^2 \ce S \times S$. So
$\Z^2 \ce \Z \times \Z$.

\begin{figure}[ht]
  \centering
  \inclgraph{VectorGraph1.png}
  \caption{Some vectors plotted on a Cartesian coordinate plane.}
  \label{fig:ccp}
\end{figure}

So, from that graph, you'll see that
$\mvec{\ng 3, 4}, \mvec{2,4}, \mvec{\ng 5, \ng 1}, \mvec{5, \ng 3} \in \Z^2$.

At this point, I think my crappy graphs drawn by hand are failing us. So, I'll
generate one with a computer.

\dots and 5 hours of wrestling with Sage, here's the graph:

\begin{figure}[ht]
  \centering
  \inclgraph{VectorGraph2.png}
  \caption{The above graph made with a computer. Source: \cref{src:vg2}}
  \label{fig:vg2}
\end{figure}
\lstinputlisting[style=sage, caption={blah}, label={src:vg2}]{VectorGraph2.sage}

Okay, convention time! The horizontal axis is typically labeled the
$x$-axis. The vertical axis is labeled the \nm{y}-axis. There's no rule that
this has to be the case, it's just a convention.

Instead of vectors listed on a plane, it's much more common to see the
horizontal axis represent inputs to a function, and the vertical axis to
represent the output. So, if you go to any given place on the horizontal axis,
the vertical coordinate of the 

Let's make a non vector-valued function

\begin{rclmath}
  f & : & \Z \to \N \\
  \eva{f}{x} & = & x^2 \\
\end{rclmath}

So, given some $x$, it returns the square of $x$. Let's make the table again,
shall we?

\begin{displaymath}
  \begin{tabu}{|c|c|c|} \hline
    x  & \eva{q}{x} & \text{$\eva{q}{x}$ reduced}  \\ \hline
    {\ng{10}} & \parens{\ng{10}}^2 & {100} \\
    {\ng{9}}  & \parens{\ng{9}}^2  & {81} \\
    {\ng{8}}  & \parens{\ng{8}}^2  & {64} \\
    {\ng{7}}  & \parens{\ng{7}}^2  & {49} \\
    {\ng{6}}  & \parens{\ng{6}}^2  & {36} \\
    {\ng{5}}  & \parens{\ng{5}}^2  & {25} \\
    {\ng{4}}  & \parens{\ng{4}}^2  & {16} \\
    {\ng{3}}  & \parens{\ng{3}}^2  & {9} \\
    {\ng{2}}  & \parens{\ng{2}}^2  & {4} \\
    {\ng{1}}  & \parens{\ng{1}}^2  & {1} \\
    0       & 0^2       & 0 \\
    1       & 1^2       & 1 \\
    2       & 2^2       & 4 \\
    3       & 3^2       & 9 \\
    4       & 4^2       & 16 \\
    5       & 5^2       & 25 \\
    6       & 6^2       & 36 \\
    7       & 7^2       & 49 \\
    8       & 8^2       & 64 \\
    9       & 9^2       & 81 \\
    10      & 10^2      & 100 \\
    \hline
  \end{tabu}
\end{displaymath}

% \begin{figure}[ht]
%   \centering
%   \inclgraph{VectorGraph3.png}
%   \caption{Graph of the sine function.}
%   \label{fig:vg3}
% \end{figure}
% \sageinput{VectorGraph3.sage}

